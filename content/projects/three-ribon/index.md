---
emoji: ðŸŽ€
title: '[Three] ë‹¤ì–‘í•œ ë¸Œë¼ìš°ì € í™˜ê²½ì—ì„œ ë¦¬ë³¸ ëŒë¦¬ê¸°'
date: '2024-01-31 00:00:00'
author: ynawhocodes
tags: project retrospect
categories: ðŸŽ³project
---

ì•ˆë…•í•˜ì„¸ìš”.   
ì˜¤ëŠ˜ì€ 3D ë¦¬ë³¸ ë§Œë“œëŠ” ê³¼ì •ì„ ì†Œê°œí•˜ë ¤ê³  í•©ë‹ˆë‹¤.  

![hanwha-lifeplus gif](img/hanwha-lifeplus.gif)  

ì˜ì› í™œë™ìœ¼ë¡œ ì™¸ì£¼ë¥¼ ì‹œìž‘í•˜ê³ ë‚˜ì„œ ì²˜ìŒ ë“¤ì–´ì˜¨ ê±´ìœ¼ë¡œ, ë””ìžì¸ ì—ì´ì „ì‹œ JT-STUDIOì˜ ì˜ë¢°ë¥¼ ë°›ì•„ í•œí™” ë¼ì´í”„í”ŒëŸ¬ìŠ¤ ëžœë”©íŽ˜ì´ì§€ ì¤‘ ì¸í„°ë ‰ì…˜ ì„¹ì…˜ ê°œë°œì„ ë§¡ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.  
  
3Dë¡œ ëŒì•„ê°€ëŠ” ìºëŸ¬ì…€ê³¼ ìºëŸ¬ì…€ ë°–ì˜ ë¦¬ë³¸ ë ì˜€ìŠµë‹ˆë‹¤.
ê·¸ ì¤‘ì— ì „ ë¦¬ë³¸ ë ë¥¼ ë§¡ì•„ ê°œë°œì„ ì§„í–‰í–ˆìŠµë‹ˆë‹¤.  
  
![ribbon gif](img/ribbon.gif)  
ë¦¬ë³¸ ë ì˜ëŠ” êµ¬í˜•ìœ¼ë¡œ ëŒì•„ê°€ë˜ ê³¡ì„  í˜•íƒœë¡œ íšŒì „í•˜ë©°, ë ëŠ” ìžì²´ì ìœ¼ë¡œ íšŒì „í•´ì•¼í–ˆìŠµë‹ˆë‹¤.  

## ðŸ‘€ ì–´ë–»ê²Œ ì‹œìž‘í–ˆë‚˜ìš”?  
ìš°ì„  ë ê°€ ì›í˜•ì´ë©´ì„œë„ êµ¬ë¶€ëŸ¬ì§€ëŠ” íš¨ê³¼ê°€ ìžˆì–´ì•¼ í–ˆê¸°ì— ë ê°€ ìœ„ì¹˜í•  ìˆ˜ ìžˆëŠ” curveê°€ êµ¬í˜•ì˜ ì ë„ì— ìžˆì–´ì•¼ê² ë‹¤ê³  ìƒê°ì„ í–ˆê³ , ì ë„ ë¶€ê·¼ì— ìœ„ì¹˜í•œ curve í˜•íƒœë¥¼ ì§ì ‘ íœ˜ê²Œ ë§Œë“œëŠ” ë°©ì‹ìœ¼ë¡œ ì ‘ê·¼í–ˆìŠµë‹ˆë‹¤.  
ê·¸ë¦¬ê³  ìƒì„±í•œ curveë¥¼ ê¸°ì¤€ìœ¼ë¡œ materialì´ ì´ë™í•˜ë©´ ë¦¬ë³¸ì´ ìƒì„±ë  ê²ƒì´ë¼ê³  ì˜ˆìƒí•˜ì—¬ ì‹œìž‘í–ˆê³ , ë§Žì€ ì‹œí–‰ì°©ì˜¤ ëì— ì™„ì„±í•  ìˆ˜ ìžˆì—ˆìŠµë‹ˆë‹¤.  

  
## ðŸŒ ë¦¬ë³¸ì´ ì´ë™í•  ìˆ˜ ìžˆì„ curve ìƒì„±ë¶€í„°
êµ¬í˜•ì— ì ë„ì— ìœ„ì¹˜í•  ìˆ˜ ìžˆìœ¼ë ¤ë©´ êµ¬ë©´ ì¢Œí‘œê°€ í•„ìš”í–ˆê³ , [setFromSphericalCoords](https://threejs.org/docs/#api/en/math/Vector3.setFromSpherical) ë©”ì„œë“œë¥¼ í†µí•´ ë°˜ì§€ë¦„, ë°©ìœ„ê°, ê·¹ê° ë§¤ê°œë³€ìˆ˜ë¥¼ í†µí•´ curveë¥¼ êµ¬ë©´ ì¢Œí‘œì— êµ¬ë¶€ë¦¼ì„ ë‚˜íƒ€ë‚¼ ìˆ˜ ìžˆëŠ” ì œì–´ì  ìœ„ì¹˜ë¥¼ ì„¤ì •í–ˆìŠµë‹ˆë‹¤. 
```
 const curvePoints = [
        new THREE.Vector3().setFromSphericalCoords(18.7, 1.585, 0),
        ...
        new THREE.Vector3().setFromSphericalCoords(
            18.7,
            1.552,
            (5 / 6) * Math.PI * 2
        ),
    ];
```

ì œì–´ì ì„ ê¸°ë°˜ìœ¼ë¡œ ê³¡ì„ ì„ ìƒì„±í•˜ê¸° ìœ„í•´ [CatmullRomCurve3](https://threejs.org/docs/?q=CatmullRomCurve3#api/en/extras/curves/CatmullRomCurve3) ë©”ì„œë“œë¥¼ ì´ìš©í–ˆìŠµë‹ˆë‹¤. ì„¤ì •í•œ ì œì–´ì  ìœ„ì¹˜ê°€ ìžˆëŠ” ë°°ì—´ ì¸ìžë¡œ ë„£ì–´ ë¶€ë“œëŸ¬ìš´ ê³¡ì„ ì„ ìƒì„±í•˜ì˜€ìŠµë‹ˆë‹¤.  
```
  const curve = new THREE.CatmullRomCurve3(curvePoints);
  curve.closed = true;
```  

## ðŸŽ€ curve ë”°ë¼ ëŒ ë¦¬ë³¸ ì¤€ë¹„
ë¦¬ë³¸ì€ í‰ë©´ì´ê¸°ì— PlaneGeometryë¡œ ëª¨ì–‘ì„ ì •ì˜í–ˆê³ , ë©”ì‰¬ëŠ” íŠ¹ë³„í•œ í…ìŠ¤ì³ê°€ ì—†ê¸°ì— ê°„ë‹¨í•œ í…ìŠ¤ì³ì¸ MeshBasicMaterialë¡œ í‰ë©´ì˜ ì™¸ê´€ì„ ì •ì˜í–ˆìŠµë‹ˆë‹¤. ë˜í•œ ë¦¬ë³¸ì€ í•œí™” ë¼ì´í”„í”ŒëŸ¬ìŠ¤ ë¡œê³ ê°€ ë‹´ê¸´ ì´ë¯¸ì§€ê°€ ì ìš©ë˜ì—ˆê¸°ì— [TextureLoader](https://threejs.org/docs/?q=TextureLoader#api/en/loaders/TextureLoader)ë¡œ ë¡œê³  ì´ë¯¸ì§€ë¥¼ ìž…í˜”ìŠµë‹ˆë‹¤.
```
  let texture = new THREE.TextureLoader().load(RIBBON_SRC);

  [texture].forEach((t) => {
      t.wrapS = THREE.RepeatWrapping;
      t.wrapT = THREE.RepeatWrapping;
      t.repeat.set(7, 1);
      t.flipY = false;
  });

  const frontMaterial = new THREE.MeshBasicMaterial({
  ...
  });

  // ë¦¬ë³¸ì˜ ì¼ë¶€
  let tempPlane = new THREE.PlaneGeometry(1, 1, number, 1);
```  

## ðŸ§¶ ì¤€ë¹„í•œ ë¦¬ë³¸ curveë”°ë¼ ëŒë¦¬ê¸° ì‹œìž‘
  - **curveë¥¼ ìž˜ê²Œ ìª¼ê°œ í‰ë©´ ìƒì„±í•  ìˆ˜ ìžˆë„ë¡ ì ‘ì„ , ì´ì ‘ì„  ê³„ì‚°**   
  ì£¼ì–´ì§„ curveì— ë¦¬ë³¸ í‰ë©´ì„ ì„¸ë¶„í™”í•´ì„œ ë¶™ì´ê¸° ìœ„í•´, getSpacedPointsì„ ì´ìš©í•´ curveë¥¼ ì¼ì •í•œ ê°„ê²©ìœ¼ë¡œ ë‚˜ëˆ„ê³ , ê°„ê²©ì„ ë‚˜ëˆˆ ì ì„ ê¸°ì¤€ìœ¼ë¡œ computeFrenetFramesì„ ì´ìš©í•´ FrenetFrameì„ ê³„ì‚°í•©ë‹ˆë‹¤. FrenetFrameì´ëž€ í•´ë‹¹ ì ì—ì„œì˜ ì ‘ì„  ë°©í–¥ê³¼ ê·¸ì— ìˆ˜ì§ì¸ ì´ì ‘ì„  ë°©í–¥ìœ¼ë¡œ êµ¬ì„±í•œ í‰ë©´ì„ ì˜ë¯¸í•˜ë©°, ë‘ë²ˆì§¸ ì¸ìž true ì„¤ì •ìœ¼ë¡œ ì‹œìž‘ì ê³¼ ëì ì´ ì„œë¡œ ì—°ê²°ë˜ë„ë¡ ì„¤ì •í–ˆìŠµë‹ˆë‹¤.
    
    ```
      let spacedPoints = curve.getSpacedPoints(number);
      let frenetFrames = curve.computeFrenetFrames(number, true);
    ``` 

- **ê° ì ì— ëŒ€í•´ ë‘ê»˜ ë°˜ì˜**  
  spacedPointsë¥¼ í•˜ë‚˜ì”© ì›€ì§ì´ë©° ë¦¬ë³¸ì˜ ë‘ê»˜ì¸ dimensionì„ ì ìš©í–ˆìŠµë‹ˆë‹¤.
  ```
    let dimension = [-0.45, 0.45];

    dimension.forEach((d) => {
      for (let i = 0; i <= number; i++) {
        let point = spacedPoints[i];

        binormalShift.add(frenetFrames.binormals[i]).multiplyScalar(d);
        finalPoints.push(new THREE.Vector3().copy(point).add(binormalShift));
      }
    });
  ```
  - binormalShift.add(frenetFrames.binormals[i]).multiplyScalar(d)  
    Frenet í”„ë ˆìž„ì—ì„œ í˜„ìž¬ ì¸ë±ìŠ¤ì— í•´ë‹¹í•˜ëŠ” ì´ì ‘ì„ (binormal)ì„ ê°€ì ¸ì™€ì„œ d ê°’ì— ë”°ë¼ í¬ê¸°ë¥¼ ì¡°ì •í•œ í›„ binormalShiftì— ë”í–ˆìŠµë‹ˆë‹¤ 
  - finalPoints.push(new THREE.Vector3().copy(point).add(binormalShift))
    í˜„ìž¬ í¬ì¸íŠ¸ì— ì´ì „ì— ê³„ì‚°í•œ ì´ì ‘ì„ ì˜ ë³€ìœ„ë¥¼ ì¶”ê°€í•˜ì—¬ ìƒˆë¡œìš´ í¬ì¸íŠ¸ë¥¼ ìƒì„±í•˜ê³ , ì´ë¥¼ finalPoints ë°°ì—´ì— ì¶”ê°€í–ˆìŠµë‹ˆë‹¤.  
  
  ì´ë ‡ê²Œ ê¸¸ê³  ê¸´ ê³¼ì •ì„ í†µí•´ finalPoints ë°°ì—´ì—ëŠ” ì£¼ì–´ì§„ curveë¥¼ ë”°ë¼ í•˜ë‚˜ì”© ì´ë™í•˜ë©´ì„œ, ì´ì „ í¬ì¸íŠ¸ì—ì„œì˜ ì´ì ‘ì„ ì— ë”°ë¥¸ ë³€ìœ„ê°€ ì ìš©ëœ ìƒˆë¡œìš´ í¬ì¸íŠ¸ë“¤ì´ ë“¤ì–´ìžˆê³ , ì´ í¬ì¸íŠ¸ë“¤ë¡œ í‰ë©´ì„ ì •ì˜í•  ìˆ˜ ìžˆë„ë¡ í–ˆìŠµë‹ˆë‹¤.

- **ì—´ì‹¬ížˆ êµ¬í•œ ì ë“¤ì— í‰ë©´ë“¤ ë‹¤ë‹¥ë‹¤ë‹¥ ë¶™ì´ê¸°**
  ```
    tempPlane.setFromPoints(finalPoints);
    let finalMesh = new THREE.Mesh(tempPlane, [frontMaterial, frontMaterial]);

    group.add(finalMesh);
  ```
  ë¦¬ë³¸ ë‘ê»˜ ëª¨ì–‘ìœ¼ë¡œ ë‹¤ë‹¥ë‹¤ë‹¥ êµ¬í•œ ì ë“¤ì— í‰ë©´ì„ ë‘ë¥´ê³ , ë¡œê³  ì´ë¯¸ì§€ í…ìŠ¤ì³ë¡œ ì •ì˜í•œ materialì´ ìž…í˜€ì£¼ë©´ ë¦¬ë³¸ì´ ì™„ì„±ë©ë‹ˆë‹¤!!!!!!!!!!  

![ë¦¬ë³¸ img](img/img_01.png)

(í˜¼ìž ê¸°ë¦½ë°•ìˆ˜ ðŸ‘ðŸ‘ðŸ‘ðŸ‘ðŸ‘ )  

## â›ˆï¸ í•˜ë©´ì„œ ì–´ë ¤ì› ë˜ ì ....
### 1) ë¸Œë¼ìš°ì € í˜¸í™˜ì„± ì´ìŠˆ í•´ê²°  

  ![img](img/img_02.jpg)
  ìœ„ ì²¨ë¶€ ì‚¬ì§„ê³¼ ê°™ì´ ë¸Œë¼ìš°ì € ì¢…ë¥˜ì— ë”°ë¼, ë²„ì „ì— ë”°ë¼ ì´ìŠˆê°€ ìžˆì—ˆìŠµë‹ˆë‹¤. ë¦¬ë³¸ ì´ë¯¸ì§€ê°€ ë Œë”ë§ë˜ì§€ ì•Šê±°ë‚˜, ë¦¬ë³¸ ì´ë¯¸ì§€ì˜ íŒ¨í„´í™”ê°€ í†µì¼ë˜ì§€ ì•Šì€ ì ì´ì—ˆìŠµë‹ˆë‹¤. ë¦¬ë³¸ ì´ë¯¸ì§€ë¥¼ í…ìŠ¤ì³ë¡œ ì‚¬ìš©í•˜ëŠ” ë¡œì§ì— ë¬¸ì œê°€ ìžˆì„ ê²ƒì´ë¼ ìƒê°í•˜ê³  í•´ë‹¹ ë¡œì§ë¶€í„° ì‚´íŽ´ë³´ì•˜ìŠµë‹ˆë‹¤.  

  ë¦¬ë³¸ ì´ë¯¸ì§€ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ë©”ì†Œë“œ, ë°˜ë³µí•´ì„œ wrappinggí•˜ëŠ” ë©”ì†Œë“œ ì¤‘ì‹¬ìœ¼ë¡œ three ê³µì‹ githubì™€ issue ê²Œì‹œíŒì„ ëª¨ë‘ ì½ê³  ìˆ˜ì •/ë°˜ì˜í•´ë³´ëŠ” ê³¼ì • ì†ì—ì„œ í•´ê²°ì„ í•  ìˆ˜ ìžˆì—ˆìŠµë‹ˆë‹¤.  

  í•´ë‹¹ ë¬¸ì œëŠ” [ì´ìŠˆ]()ë¡œ ~ í•˜ëŠ” ë¬¸ì œê°€ ìžˆì—ˆìŠµë‹ˆë‹¤.   
  ë”°ë¼ì„œ ì´ë¯¸ì§€ì˜ ì„¸ë¡œ, ê°€ë¡œ ì‚¬ì´ì¦ˆë¥¼ 2ì˜ ë°°ìˆ˜ë¡œ ë³€ê²½í•˜ì—¬ í•´ê²°í•˜ì˜€ìŠµë‹ˆë‹¤.
  ë¸Œë¼ìš°ì €ë³„/ë²„ì „ë³„ë¡œ ì´ìŠˆê°€ í•´ê²°ëëŠ”ì§€ í™•ì¸í•œ í›„ í•´ë‹¹ ì´ìŠˆë¥¼ ì™„ë£Œí•œ ê²½í—˜ì´ ìžˆìŠµë‹ˆë‹¤. 

### 2) ì¸í„°ë ‰ì…˜ ì»¤ë®¤ë‹ˆì¼€ì´ì…˜ ê°œì„   
  
  ![img](img/img_03.jpg)
  ![img](img/img_04.jpg)  

  ë””ìžì´ë„ˆê°€ ì›í•˜ëŠ” ëª¨ì…˜ì„ ìµœëŒ€í•œ ì •í™•ížˆ êµ¬í˜„í•˜ê¸° ìœ„í•´ì„  í”„ë¡œí† íƒ€ìž…ì´ë‚˜ ì˜ìƒì´ í•„ìš”í•˜ë‚˜, ìžˆì–´ë„ ì •í™•í•˜ì§€ ì•Šì„ ìˆ˜ ìžˆê³ , ìˆ˜ì •ì‚¬í•­ ë°œìƒ ì‹œ ë””ìžì´ë„ˆë„ ê°œë°œìžë„ ì»¤ë®¤ë‹ˆì¼€ì´ì…˜ ë¹„ìš©ì´ ë§Žì´ 

## â˜€ï¸ ì„¸ìƒì´ ëª¨ë“  ê²ƒì´ ì•„ë¦„ë‹¤ì›Œë³´ì˜€ë˜ ë§ˆë¬´ë¦¬ ìˆœê°„
  ![img](img/img_05.png)
